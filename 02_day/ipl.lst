     1 00000000                                 ; hello-os
     2 00000000                                 ; TAB=4
     3 00000000                                 
     4                                          		ORG		0x7c00			; 指明程序的装载地址 origin
     5 00007C00                                 
     6 00007C00                                 ; 以下的记述用于标准FAT12格式的软盘
     7 00007C00                                 
     8 00007C00 EB 16                           		JMP		entry
     9 00007C02 90                              		DB		0x90
    10 00007C03 48 45 4C 4C 4F 49 50 4C         		DB		"HELLOIPL"		; ㄦ哄绉帮?瀛锛?		DW		512				; 姣涓猴sector锛澶у锛蹇椤512瀛锛?		DB		1				; 绨锛cluster锛澶у锛蹇椤讳?涓猴
    11 00007C0B 0001                            		DW		1				; FAT璧峰浣缃锛涓涓虹涓涓猴
    12 00007C0D 02                              		DB		2				; FAT涓帮蹇椤讳负2锛?		DW		224				; 圭褰澶у锛涓涓224椤癸
    13 00007C0E 0B40                            		DW		2880			; 璇ョ澶у锛蹇椤讳?8801440*1024/512锛?		DB		0xf0			; 纾绫诲锛蹇椤讳负0xf0锛?		DW		9				; FAT垮害锛蹇??9猴?		DW		18				; 涓涓纾锛track锛涓猴蹇椤讳负18锛?		DW		2				; 纾澶存帮蹇??2锛?		DD		0				; 涓浣跨ㄥ猴蹇椤绘?
    14 00007C10 00000B40                        		DD		2880			; 涓娆＄澶у?		DB		0,0,0x29		; 涔涓锛哄锛
    15 00007C14 FFFFFFFF                        		DD		0xffffffff		; 锛芥锛锋风?		DB		"HELLO-OS   "	; 纾绉帮蹇椤讳?1瀛?锛涓瓒冲～绌烘硷?		DB		"FAT12   "		; 纾煎绉帮蹇??8瀛?锛涓瓒冲～绌烘硷?		RESB	18				; 绌哄?8瀛
    16 00007C18                                 
    17 00007C18                                 ; 程序核心
    18 00007C18                                 
    19 00007C18                                 entry:
    20 00007C18 B8 0000                         		MOV		AX,0			; 初始化寄存器
    21 00007C1B 8E D0                           		MOV		SS,AX
    22 00007C1D BC 7C00                         		MOV		SP,0x7c00
    23 00007C20 8E D8                           		MOV		DS,AX
    24 00007C22 8E C0                           		MOV		ES,AX
    25 00007C24                                 
    26 00007C24 BE 7C37                         		MOV		SI,msg
    27 00007C27                                 putloop:
    28 00007C27 8A 04                           		MOV		AL,[SI]
    29 00007C29 83 C6 01                        		ADD		SI,1			; 缁SI?
    30 00007C2C 3C 00                           		CMP		AL,0
    31 00007C2E 74 06                           		JE		fin
    32 00007C30 B4 0E                           		MOV		AH,0x0e			; 剧ず涓涓瀛?		MOV		BX,15			; 瀹瀛绗棰
    33 00007C32 CD 10                           		INT		0x10			; 璋ㄦ惧BIOS
    34 00007C34 EB F1                           		JMP		putloop
    35 00007C36                                 fin:
    36 00007C36 F4                              		HLT						; 璁CPU姝锛绛寰浠?		JMP		fin				; 寰
    37 00007C37                                 
    38 00007C37                                 msg:
    39 00007C37 0A 0A                           		DB		0x0a, 0x0a		; ㈣涓ゆ
    40 00007C39 68 65 6C 6C 6F 2C 20 77 6F 72   		DB		"hello, world"
       00007C43 6C 64 
    41 00007C45 0A                              		DB		0x0a			; ㈣
    42 00007C46 00                              		DB		0
    43 00007C47                                 
    44 00007C47 00 00 00 00 00 00 00 00 00 00   		RESB	0x7dfe-$		; 濉0x00村0x001fe
       00007C51 00 00 00 00 00 00 00 00 00 00 
       00007C5B 00 00 00 00 00 00 00 00 00 00 
       00007C65 00 00 00 00 00 00 00 00 00 00 
       00007C6F 00 00 00 00 00 00 00 00 00 00 
       00007C79 00 00 00 00 00 00 00 00 00 00 
       00007C83 00 00 00 00 00 00 00 00 00 00 
       00007C8D 00 00 00 00 00 00 00 00 00 00 
       00007C97 00 00 00 00 00 00 00 00 00 00 
       00007CA1 00 00 00 00 00 00 00 00 00 00 
       00007CAB 00 00 00 00 00 00 00 00 00 00 
       00007CB5 00 00 00 00 00 00 00 00 00 00 
       00007CBF 00 00 00 00 00 00 00 00 00 00 
       00007CC9 00 00 00 00 00 00 00 00 00 00 
       00007CD3 00 00 00 00 00 00 00 00 00 00 
       00007CDD 00 00 00 00 00 00 00 00 00 00 
       00007CE7 00 00 00 00 00 00 00 00 00 00 
       00007CF1 00 00 00 00 00 00 00 00 00 00 
       00007CFB 00 00 00 00 00 00 00 00 00 00 
       00007D05 00 00 00 00 00 00 00 00 00 00 
       00007D0F 00 00 00 00 00 00 00 00 00 00 
       00007D19 00 00 00 00 00 00 00 00 00 00 
       00007D23 00 00 00 00 00 00 00 00 00 00 
       00007D2D 00 00 00 00 00 00 00 00 00 00 
       00007D37 00 00 00 00 00 00 00 00 00 00 
       00007D41 00 00 00 00 00 00 00 00 00 00 
       00007D4B 00 00 00 00 00 00 00 00 00 00 
       00007D55 00 00 00 00 00 00 00 00 00 00 
       00007D5F 00 00 00 00 00 00 00 00 00 00 
       00007D69 00 00 00 00 00 00 00 00 00 00 
       00007D73 00 00 00 00 00 00 00 00 00 00 
       00007D7D 00 00 00 00 00 00 00 00 00 00 
       00007D87 00 00 00 00 00 00 00 00 00 00 
       00007D91 00 00 00 00 00 00 00 00 00 00 
       00007D9B 00 00 00 00 00 00 00 00 00 00 
       00007DA5 00 00 00 00 00 00 00 00 00 00 
       00007DAF 00 00 00 00 00 00 00 00 00 00 
       00007DB9 00 00 00 00 00 00 00 00 00 00 
       00007DC3 00 00 00 00 00 00 00 00 00 00 
       00007DCD 00 00 00 00 00 00 00 00 00 00 
       00007DD7 00 00 00 00 00 00 00 00 00 00 
       00007DE1 00 00 00 00 00 00 00 00 00 00 
       00007DEB 00 00 00 00 00 00 00 00 00 00 
       00007DF5 00 00 00 00 00 00 00 00 00 
    45 00007DFE                                 
    46 00007DFE 55 AA                           		DB		0x55, 0xaa
